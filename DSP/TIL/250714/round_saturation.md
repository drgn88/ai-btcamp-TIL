# Round Saturation

> fixed point 설계 및 AI에 자주 쓰인다고 합니다

## Roun Saturation이 뭘까
- rounding
  - 반올림
- Saturation
  - 포화

### Why, When

- 왜 필요한가
  - 디지털 시스템 --> 유한한 비트 수로 숫자 표현
  - 정밀도 손실 가능성
  - 예를 들어
    - 8비트 고정소수점 2개 곱함
    - 결과는 16비트
    - 근데 8비트로 제한됨
    - 이를 줄여야 함
    - 그냥 줄이면?(==truncation) --> 오차가 커짐
- DSP 및 고정소수점 연산에서 매우 중요한 데이터 처리 기법

## Rounding

### 목적
- 연산 결과의 정밀도를 줄이는 **양자화** 오차를 줄이는데 사용
- 단순히 비트 수를 잘라내는 것이 아닌
  - 최대한 기존 값과 가까운 유효값을 만들어내야함

### How?
- ```Round to Nearest```
  - 가장 가까운 값으로 반올림
  - 가장 흔함
- ```Round Half Up/Down```
  - 0.5일 떄 올릴건지 내릴건지 규칙을 명확하게 함
- ```Round Half to Even```
  - 0.5일때 가장 가까운 짝수로 반올림
  - 평균값이 미세하게 증가하는 경향을 줄일 수 있음
  - 부동소수점 표준에서 기본적으로 사용됨
  - ex) 2.5 --> 2, 3.5 --> 4
- ```Truncation```
  - 그냥 비트 수를 잘라냄
  - 구현이 가장 간단
  - 근데 정확도는 제일 낮음
  - 항상 0쪽으로 편향되는 오차 발생

## Saturation

### 목적

- 오버플로우나 언더플로우가 발생할 때, **Wrap Around**를 방지

> Wrap Around: 값이 범위를 벗어나면 가장 큰 값 혹은 작은 값으로 돌아가는 성질


### How?

- 연산 결과가 정의된 비트폭보다 크면
  - 최댓값으로 고정
- 연산 결과가 정의된 비트폭보다 작으면
  - 최솟값으로 고정

