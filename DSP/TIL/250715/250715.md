## 목차
- [Review](#review)
  - [Clock Skew](#clock-skew)
  - [Recovery/ Removal time⭐](#recovery-removal-time)
  - [Synthesis - Clock setting](#synthesis---clock-setting)
    - [create\_clock](#create_clock)
    - [set\_clock\_uncertainty](#set_clock_uncertainty)
    - [set\_clock\_transition](#set_clock_transition)
    - [Clock Transition 발생 이유 및 해결법⭐](#clock-transition-발생-이유-및-해결법)
    - [set\_max\_fanout](#set_max_fanout)
    - [set\_input(output)\_delay](#set_inputoutput_delay)
    - [set\_multicycle \& set\_false\_path](#set_multicycle--set_false_path)
      - [CDC⭐](#cdc)
- [현업 TIP](#현업-tip)
  - [들어온 신호가 바로 Comb\_logic으로 들어오는 경우](#들어온-신호가-바로-comb_logic으로-들어오는-경우)


# Review

## Clock Skew

- clock skew는 hold time violation에 영향을 줄 수 있다
  - setup에도 영향을 주지만 hold에 비중이 큼

## Recovery/ Removal time⭐
> 이 내용도 중요함 --> Critical Warning으로

<img src="./img_250715/스크린샷 2025-07-15 092222.png"><br>

- Setup / Hold의 개념과 유사
- Async Reset
  - clk 근처에서 reset값이 바뀌면 안됨
  - 변동이 생기면 F/F이 meta-stable에 빠질 수 있음
- Recovery time
  - Clk edge 앞 단에서 리셋값 변동이 생기면 안됨
  - Reset이 종료되고 값이 정상적으로 복원되는 시간
    - **Recovery time**
- Removal time
  - Clk edge 뒷 단에서 리셋값 변동이 생기면 안됨
  - Reset이 수행되어 값이 초기화되는 시간
    - **Removal time**

> Slack - Met / Violation
> > Met: Slack 마진을 맞춤<br>
> > Violation: Slack 마진을 못 맞춤 --> Negative slack

## Synthesis - Clock setting

### create_clock

<img src="./img_250715/스크린샷 2025-07-15 093508.png"><br>

### set_clock_uncertainty

```tcl
set_clock_uncertainty -setup 0.65 [get_clocks CLK1]
```
- clk edge의 왼쪽으로 마진을 둠
- 위의 경우 0.65의 setup에 대한 clk skew 마진을 줌
  - 주기가 10ns면 setup 시간이 0.65ns 줄어듦

```tcl
set_clock_uncertainty -hold 0.65 [get_clocks CLK1]
```
- clk edge의 오른쪽으로 마진을 둠
- 위의 경우 0.65의 hold에 대한 clk skew 마진을 줌
  - 주기가 10ns면 hold 시간이 0.65ns 줄어듦

### set_clock_transition

```tcl
st_clock_transition 0.64 -fall [get_clocks CLK1]
```

- 실제 clk은 직각으로 값이 바뀌지 않음
- slew rate가 존재
  - 비스듬하게 올라가고 내려감
  - 이 경사에 대한 주기도 다름
- clock이 edge에서 시간을 정의해줄 수 있음
- 시스템 클럭 주파수가 높을수록
  - 해당 옵션을 tight하게 줌
  - transition time을 짧게 줌

### Clock Transition 발생 이유 및 해결법⭐

[원인]
- RC delay
- fan out에 의해 전류 드라이빙 능력이 떨어짐
  - 전류 구동 능력이 떨어지니 비스듬히 기울어짐

[해결방법]
- Buffer를 이용하여 전류를 드라이빙함
  - clk의 경사를 올려줄 수 있음
  - Area가 커진다는 단점이 있음 < - > Buffer 수 증가에 따른
- fan out을 줄임

### set_max_fanout

```tcl
set_max_fanout 64 [current_design]
```
- 하나의 논리게이트가 가질 수 있는 최대 fanout을 제한해줌

### set_input(output)_delay

- 로직에 신호가 들어올때 F/F을 거치지 않는 경우
  - 신호가 바로 Comb_logic을 거치는 경우
  - 신호가 딜레이를 갖고 시작
  - 이를 반영하기위한 내용

### set_multicycle & set_false_path

#### CDC⭐
- 서로 다른 Clk domain끼리 연결됨
- 반드시 meta-stable 상태에 걸리게됨
  - setup/hold violation이 걸림
- Synchronizer로 해결가능

- set_false_path
  - Serial 통신처럼 동작기간이 긴 경우
  - 아주 찰나의 순간에 metastability가 발생해도
  - 무시할 수 있음
  - 이런 경우를 반영하기 위함

# 현업 TIP

## 들어온 신호가 바로 Comb_logic으로 들어오는 경우

- 이런 경우 싫어함
- 보통 코딩 가이드 라인에서 신호가 들어오고 나갈 때 F/F을 거치게 함