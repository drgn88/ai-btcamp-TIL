## 목차
- [Verilog Review](#verilog-review)
	- [initial \& always: Procedure Assignment](#initial--always-procedure-assignment)
		- [initial](#initial)
		- [always](#always)
	- [Sequential Logic \& Combinational Logic](#sequential-logic--combinational-logic)
		- [Sequential Logic](#sequential-logic)
		- [Combinational Logic](#combinational-logic)
	- [Non-Blocking Vs Blocking](#non-blocking-vs-blocking)
		- [Non-Blocking](#non-blocking)
		- [Blocking](#blocking)
		- [예시](#예시)
	- [Synch Reset Vs Asynch Reset](#synch-reset-vs-asynch-reset)
		- [Synch Reset](#synch-reset)
		- [Asynch Reset](#asynch-reset)
	- [연산자 - == / ===](#연산자-----)
	- [연산자 - Shift Operator](#연산자---shift-operator)
	- [Wire Vs Reg](#wire-vs-reg)
		- [wire](#wire)
		- [reg⭐](#reg)
	- [if-else / case-default⭐⭐⭐](#if-else--case-default)
		- [Combination Logic](#combination-logic)
		- [Sequential Logic](#sequential-logic-1)
	- [Power⭐⭐⭐](#power)
- [System Verilog Review](#system-verilog-review)
	- [Basic 구조](#basic-구조)
	- [Data type](#data-type)
		- [4-state](#4-state)
		- [2-state](#2-state)
		- [2-state data type(in SV)](#2-state-data-typein-sv)
		- [4-state data type(in SV)](#4-state-data-typein-sv)
	- [Data Array](#data-array)
		- [Fixed size Array](#fixed-size-array)
		- [Dynamic Array](#dynamic-array)
		- [Queues](#queues)
		- [Associative Arrray](#associative-arrray)
		- [Array Query System⭐](#array-query-system)
	- [Sequential Flow in SV](#sequential-flow-in-sv)
		- [Conditionals](#conditionals)
		- [Loops](#loops)
	- [Task Vs Function⭐](#task-vs-function)
		- [Task](#task)
		- [function](#function)
		- [Example](#example)
	- [Code Block Lifetime](#code-block-lifetime)
- [VCS Review](#vcs-review)
	- [Ref) Elaboration이란?](#ref-elaboration이란)
		- [VCS: 2-step / 3-step](#vcs-2-step--3-step)
	- [VCS 명령어 option](#vcs-명령어-option)
	- [Gate level simulation](#gate-level-simulation)
		- [Transport Mode](#transport-mode)
		- [Inertial Mode](#inertial-mode)
	- [VCS Simulation Mode](#vcs-simulation-mode)
	- [FGP](#fgp)
	- [X-Propagation⭐](#x-propagation)
	- [Save \& Restore⭐](#save--restore)
- [Verdi Review](#verdi-review)
	- [FSDB](#fsdb)
		- [VCD](#vcd)
	- [TFV](#tfv)



# Verilog Review

## initial & always: Procedure Assignment

### initial
- 한 번만 수행
- begin-end 사이 **순차적**으로 수행
- initial block끼리는 동시에 수행
- TestBench에 사용
  - Logic 합성은 안됨

### always
- begin-end
  - Non-Blocking: Concurrent
  - Blocking: Sequential
- Event list(Sensitivity list) @마다 수행
- always block끼리는 동시에 동작
- TestBench 및 Logic 합성에도 사용

> Sensitivity List: 모든 입력을 넣어줘야 함 --> *사용 권장

## Sequential Logic & Combinational Logic

### Sequential Logic
- **Flip Flop**
  - 저장의 기능⭐
  - **Memory** 역할
  - Latch는 쓰지 마라!⚠️
    - ❗의도하지 않은 동작을 할 수 있음

### Combinational Logic
- 값이 바뀌면 즉시 대입
- 실시간으로 값이 변화함 --> CLK 무관
  - 주의) 실제로는 Delta Delay 이후에 값이 바뀜⚠️

## Non-Blocking Vs Blocking

> Delta Delay를 항상 염두에 두자⭐
> > 바로 값이 대입되는 것이 아닌 Delta delay 이후에 값을 채감

### Non-Blocking
- ```<=```
  - Sequential Logic에 사용
  - clk이 들어가는 always문
  - **Concurrent**하게 동작

### Blocking
- ```=```
  - Combinational Logic에 사용
  - begin-end 사이에서 **순차적**으로 동작

### 예시
<img src="./img_250714/스크린샷 2025-07-14 104231.png" width=500 height=300><br>
- 왼쪽: Combinational Logic
  - 약간의 delta delay 후에 모두 같은 값이 나감(a)
- 오른쪽: Sequential Logic
  - Shift register처럼 동작

## Synch Reset Vs Asynch Reset

### Synch Reset
- P = Pdyn + Psw +Pleaks
  - ```Pdyn = a*C*(v^2)*f```
  - clk에 dependent하게 Power 소모 O
  - a가 크다 --> Power 소모가 크다 

### Asynch Reset
- 회로 사이즈가 큼
  - 회로 수율이 낮음
- P = Pdyn + Psw +Pleaks
  - ```Pdyn = a*C*(v^2)*f```
  - clk에 dependent하게 Power 소모X
  - a가 작다 --> Power 소모가 적다

> REF) Verilog에서 for문은 합성에 자주 사용

## 연산자 - == / ===

<img src="./img_250714/스크린샷 2025-07-14 103021.png"><br>

## 연산자 - Shift Operator
> Verilog에서도 사용가능하다!

<img src="./img_250714/스크린샷 2025-07-14 103150.png"><br>

- 단, Arithmetic Shift 사용시 **Signed** 명시를 해줘야한다

## Wire Vs Reg

### wire
- 물리적 metal line
- **Continuous Assignment**에 사용

### reg⭐
- **저장의 기능**이 있음
- **Procedural Assignment**에 사용
- Combinational Logic
  - wire처럼 합성 --> 명시는 reg로 명시
  - 순차적
- Sequential Logic
  - F/F으로 합성
  - 동시(Concurrent)

## if-else / case-default⭐⭐⭐

### Combination Logic
- 반드시 defalut case를 정의해야됨
- 정의하지 않으면 Latch 발생함

### Sequential Logic
- 되도록 else를 사용하지 않음
  - Power 측면에서 좋지않음
  - else의 경우를 정의
  - --> 값이 switching되는 case가 증가
  - power 소모가 크다


## Power⭐⭐⭐
- P = Pdyn + Psw +Pleaks
  - ```Pdyn = a*C*(v^2)*f```
  - ⭐a: toggle ratio OR Activity Factor
    - 회로 내 단위시간동안 스위칭 되는 평균 횟수
    - Clock gating
      - 필요없는 블록의 clock은 off시킴
    - 설계자가 조정 가능
  - C: Capacitance
    - 공정 파트에서 조정
    - 혹은 ```fanout``` 관리
  - V: Voltage
    - 설계자가 조정 가능
    - 근데 잘 안건드림
    - 건드려도 매니저가 지휘
  - f: Frequency
    - 설계자가 건드릴수 있지만 잘 안건드림
    - 굳이 속도 높으면 좋은데

# System Verilog Review

## Basic 구조

- DUT
- Program
- Interface

## Data type

### 4-state
- Logic level
- 0, 1, x, z

### 2-state
- tb level
- 0, 1

### 2-state data type(in SV)
- bit: unsigned
- byte: signed
- shortint: 16bit signed 
- int: 32bit signed
- longint: 64bit signed
- real: double in C
- shortreal: float in C
- realtime
  - 64bit real variable

### 4-state data type(in SV)
- logic: unsigned
  - reg, wire를 통합해서 logic으로 쓴다
  - 편리해졌죠잉
- integer
  - 32bit signed
- time
  - 64bit unsigned
- string
  - 문자열
  - 완전 testbench용
- enum
  - testbench용
  - 숫자 --> 문자로 정의

## Data Array

### Fixed size Array
> logic design할 때 자주 사용
<img src="./img_250714/스크린샷 2025-07-14 112535.png"><br>
- size를 고정시킴

### Dynamic Array
> 합성 안됨 주의 --> TB용
<img src="./img_250714/스크린샷 2025-07-14 112703.png"><br>

### Queues
> 합성 안됨 주의 --> TB용
<img src="./img_250714/스크린샷 2025-07-14 112729.png"><br>

### Associative Arrray
<img src="./img_250714/스크린샷 2025-07-14 112814.png"><br>
- 메모리 용량을 줄일 수 있음
- 단 처리 시간이 오래걸림
  - 메모리 핸들링이 복잡해짐
- 웬만하면 설계할 때 사용하지 마라
- TB에서만 사용하기

### Array Query System⭐
<img src="./img_250714/스크린샷 2025-07-14 114108.png"><br>

## Sequential Flow in SV

### Conditionals

- if-else
- ? True : False;
- assert (true condition);
- ⚠️합성 안됨 --> TB용
- case()-endcase

### Loops
- repeat() begin end
  - always문과 유사 동작
- ⭐for() begin end
  - Logic Design에서도 자주 사용
  - **아끼지말고 쓰자**
- foreach(array[index]) begin-end
- forever begin-end
- while begin-end
- do begin-end while()
- break
  - Loop 탈출
- continue
  - Loop 중간에 나가서 조건비교로 이동

## Task Vs Function⭐

### Task
- 시간의 흐름이 있음
  - Blocking
- return value가 없음

### function
- 시간의 흐름이 없음
  - Non blocking
- return value가 있음

> 아주 가끔 설계에도 사용하는 경우 있음
> > Round Saturation

### Example

<img src="./img_250714/스크린샷 2025-07-14 120143.png"><br>
- B, C, D, E
  - 0, 0, x, x가 찍힘
- Q. 왜 D, E가 x가 찍힐까
  - task안에서 output에 대해 처리 안함
  - default value가 찍힘
  - logic의 default value == x
  - task를 거쳤는데 처리안되니까 task 상 default값인 x가 출력됨


## Code Block Lifetime
- Simulation: end & $finish
  - end
    - 해당 블럭이 종료
  - $finish
    - 시뮬레이션 자체 종료
- Subroutine
  - endtask / endfunction
    - 해당 블럭 종료
  - return
    - 값 반환하고 즉시 종료
- Loop
  - end: 해당 loop 종료
  - break: Loop 즉시 탈출
  - continue: 조건 비교로 이동

# VCS Review
> VCS-Synopsys / Xcelium-Cadence

## Ref) Elaboration이란?
- 전체 소스파일들을 묶는 과정에서 오류를 찾아줌
  - 문법 오류
  - 인터페이스 오류

### VCS: 2-step / 3-step

- 2-step
  - syntax check + eleborate
  - compile

- 3-step
  - syntax check
  - elaborate
  - compile

- Compile이 마무리되면 항상 **.simv**파일이 생긴다⭐

## VCS 명령어 option
- ```-v```
  - gate level simulation에 필요한 라이브러리 지정
  - standard library
- ```-y```
  - 라이브러리 디렉토리 지정
- ```-sverilog```
  - system verilog 활성화

## Gate level simulation

### Transport Mode
- 모든 와이어 지연을 그대로 반영


### Inertial Mode
- 딜레이보다 짧은 펄스를 제거

## VCS Simulation Mode
<img src="./img_250714/스크린샷 2025-07-14 123845.png"><br>

## FGP
- CPU의 자원을 끌어쓸 수 있음
- Multi Thread 환경에서 사용하기 좋음

## X-Propagation⭐
> x가 뜨는 주된 이유: 초기화 안해서........

<img src="./img_250714/스크린샷 2025-07-14 124158.png"><br>

- RTL
  - 중간에 X가 있어도 이후 로직에서 정상값 가능
- Gate-level
  - 중간에 x가 있으면 그 이후 로직부터 반드시 x가 나옴
  - 추적하기 용이

## Save & Restore⭐
- 했던 지점에서 다시 시뮬레이션 시작
- 다시 Compile을 안해도 됨🌟
- 시뮬레이션 시간을 줄일 수 있음

# Verdi Review

## FSDB
- waveform에 대한 모든 정보를 저장한 파일
- verdi에서 waveform 파일

### VCD
- 다른 툴에서 만들어진 표준화된 waveform 파일
- FSDB <-> VCD를 할 수 있는 기능이 있음

## TFV

- 신호가 출발하는 지점을 추적해서 찾아줌
- Unknown 디버깅할 때 유용

